{% extends "orders/layouts/default.html" %}

{% block title %} Orders {% endblock %}

{% block body %}
<div class="container">
  <div id="shopping-cart-container">
    <div class="shopping-cart">
      <h2>Static Items</h2>
      <table class="static-items">
        <tr>
          <th>#</th>
          <th>Item</th>
          <th>Category</th>
          <th>Size</th>
          <th>Price</th>
          <th>Action</th>
        </tr>
        {% for item in items %}
        <tr data-item_number="{{ forloop.counter }}" data-id="{{ item.id }}"
        data-name="{{ item.name }}" data-item_type="static"
        class="shopping-cart-item">
          <td>{{ forloop.counter }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.category }}</td>
          <td>
            {% if item.size == "None" %}
              -
            {% else %}
              {{ item.size }}
            {% endif %}
          </td>
          <td>{{ item.price }}</td>
          <td>
            <button class="btn-item-remove"
            data-item_number="{{ forloop.counter }}"
            data-item_type="static">
              Remove
            </button>
          </td>
        </tr>
        {% endfor %}
      </table>

      <h2>Custom Items</h2>
      <table class="custom-items">
        <tr>
          <th>#</th>
          <th>Item</th>
          <th>Category</th>
          <th>Size</th>
          <th>Toppings / Addons</th>
          <th>Price</th>
          <th>Action</th>
        </tr>
        {% for custom_item in custom_items %}
        <tr data-item_number="{{ forloop.counter }}"
        data-id="{{ custom_item.id }}" data-name="{{ custom_item.name }}"
        data-item_type="custom" class="shopping-cart-item">
          <td>{{ forloop.counter }}</td>
          <td>{{ custom_item.name }}</td>
          <td>{{ custom_item.category }}</td>
          <td>
            {% if custom_item.size == "None" %}
              -
            {% else %}
              {{ custom_item.size }}
            {% endif %}
          </td>
          <td>
            {% if custom_item.pizza_toppings %}
              {{ custom_item.pizza_toppings | join:", " }}
            {% else %}
              {{ custom_item.sub_addons | join:", " }}
            {% endif %}
          </td>
          <td>{{ custom_item.price }}</td>
          <td>
            <button class="btn-item-remove"
            data-item_number="{{ forloop.counter }}"
            data-item_type="custom">
              Remove
            </button>
          </td>
        </tr>
        {% endfor %}
      </table>
    </div>
  </div>
  
  {% include "orders/includes/message.html" %}
  {% include "orders/includes/shopping-cart-navbar.html" %}
</div>

  {% include "orders/includes/current_user_id.html" %}

{% endblock %}